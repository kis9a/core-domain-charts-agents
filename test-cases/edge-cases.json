{
  "edge_cases": [
    {
      "name": "Empty modules",
      "description": "空のモジュール配列",
      "input": {
        "modules": [],
        "dependencies": []
      },
      "expected_behavior": "空の結果を返すか、適切なエラーメッセージ"
    },
    {
      "name": "Single module",
      "description": "単一モジュールのみ",
      "input": {
        "modules": [
          {
            "name": "single-module",
            "loc": 1000,
            "change_freq": 50,
            "dep_in": 0,
            "dep_out": 0,
            "top_terms": ["single"],
            "evidence_fragments": ["single.py: main()"]
          }
        ],
        "dependencies": []
      },
      "expected_classification": "Supporting or Generic depending on analysis"
    },
    {
      "name": "Circular dependencies",
      "description": "循環依存",
      "input": {
        "modules": [
          {
            "name": "module-a",
            "loc": 1000,
            "change_freq": 30,
            "dep_in": 1,
            "dep_out": 1,
            "top_terms": ["a"],
            "evidence_fragments": ["a.py: func_a()"]
          },
          {
            "name": "module-b",
            "loc": 1000,
            "change_freq": 30,
            "dep_in": 1,
            "dep_out": 1,
            "top_terms": ["b"],
            "evidence_fragments": ["b.py: func_b()"]
          }
        ],
        "dependencies": [
          {"from": "module-a", "to": "module-b", "weight": 10},
          {"from": "module-b", "to": "module-a", "weight": 10}
        ]
      },
      "expected_behavior": "正常に処理され、循環依存を考慮した分析"
    },
    {
      "name": "Maximum values",
      "description": "すべての値が最大",
      "input": {
        "modules": [
          {
            "name": "max-module",
            "loc": 999999,
            "change_freq": 999999,
            "dep_in": 999,
            "dep_out": 999,
            "top_terms": ["max", "extreme", "highest"],
            "evidence_fragments": ["max.py: extreme_function()"]
          }
        ],
        "dependencies": []
      },
      "expected_scores": {
        "S": 5,
        "Δ": "3-5",
        "X": "1-3"
      }
    },
    {
      "name": "Minimum values",
      "description": "すべての値が最小",
      "input": {
        "modules": [
          {
            "name": "min-module",
            "loc": 1,
            "change_freq": 0,
            "dep_in": 0,
            "dep_out": 0,
            "top_terms": [],
            "evidence_fragments": []
          }
        ],
        "dependencies": []
      },
      "expected_behavior": "デフォルト値使用、uncertaintiesに記載"
    },
    {
      "name": "Special characters in names",
      "description": "特殊文字を含む名前",
      "input": {
        "modules": [
          {
            "name": "module-with-special-@#$%-chars",
            "loc": 1000,
            "change_freq": 50,
            "dep_in": 5,
            "dep_out": 3,
            "top_terms": ["special"],
            "evidence_fragments": ["special.py: func()"]
          }
        ],
        "dependencies": []
      },
      "expected_behavior": "正常に処理"
    },
    {
      "name": "Very long module names",
      "description": "非常に長いモジュール名",
      "input": {
        "modules": [
          {
            "name": "this-is-an-extremely-long-module-name-that-exceeds-normal-length-expectations-and-might-cause-issues-in-processing-or-display",
            "loc": 1000,
            "change_freq": 50,
            "dep_in": 5,
            "dep_out": 3,
            "top_terms": ["long"],
            "evidence_fragments": ["long.py: func()"]
          }
        ],
        "dependencies": []
      },
      "expected_behavior": "正常に処理または適切な切り詰め"
    },
    {
      "name": "No evidence",
      "description": "証拠なし",
      "input": {
        "modules": [
          {
            "name": "no-evidence",
            "loc": 1000,
            "change_freq": 50,
            "dep_in": 5,
            "dep_out": 3,
            "top_terms": ["mystery"],
            "evidence_fragments": []
          }
        ],
        "dependencies": []
      },
      "expected_behavior": "デフォルトスコア使用、uncertaintiesに明記"
    },
    {
      "name": "Duplicate module names",
      "description": "重複するモジュール名",
      "input": {
        "modules": [
          {
            "name": "duplicate",
            "loc": 1000,
            "change_freq": 50,
            "dep_in": 5,
            "dep_out": 3,
            "top_terms": ["first"],
            "evidence_fragments": ["first.py: func()"]
          },
          {
            "name": "duplicate",
            "loc": 2000,
            "change_freq": 100,
            "dep_in": 10,
            "dep_out": 6,
            "top_terms": ["second"],
            "evidence_fragments": ["second.py: func()"]
          }
        ],
        "dependencies": []
      },
      "expected_behavior": "エラーまたは最新データで上書き"
    },
    {
      "name": "All Core classification",
      "description": "すべてCore分類になるケース",
      "input": {
        "modules": [
          {
            "name": "core-1",
            "loc": 10000,
            "change_freq": 100,
            "dep_in": 30,
            "dep_out": 5,
            "top_terms": ["unique", "algorithm", "ml"],
            "evidence_fragments": ["core1/ml_engine.py: proprietary_algorithm()"]
          },
          {
            "name": "core-2",
            "loc": 15000,
            "change_freq": 150,
            "dep_in": 40,
            "dep_out": 8,
            "top_terms": ["optimization", "strategy", "custom"],
            "evidence_fragments": ["core2/optimizer.py: custom_optimization()"]
          }
        ],
        "dependencies": []
      },
      "expected_classification": "Both Core (S+Δ >= 8, X <= 3)"
    },
    {
      "name": "All Generic classification",
      "description": "すべてGeneric分類になるケース",
      "input": {
        "modules": [
          {
            "name": "generic-1",
            "loc": 500,
            "change_freq": 2,
            "dep_in": 1,
            "dep_out": 10,
            "top_terms": ["log", "config", "utility"],
            "evidence_fragments": ["util/logger.py: log()"]
          },
          {
            "name": "generic-2",
            "loc": 300,
            "change_freq": 1,
            "dep_in": 0,
            "dep_out": 15,
            "top_terms": ["cache", "redis", "standard"],
            "evidence_fragments": ["cache/redis_adapter.py: get()"]
          }
        ],
        "dependencies": []
      },
      "expected_classification": "Both Generic (X >= 4 or low S and Δ)"
    },
    {
      "name": "Unicode and emoji",
      "description": "Unicode文字と絵文字を含む",
      "input": {
        "modules": [
          {
            "name": "モジュール🚀",
            "loc": 1000,
            "change_freq": 50,
            "dep_in": 5,
            "dep_out": 3,
            "top_terms": ["日本語", "中文", "한글"],
            "evidence_fragments": ["ファイル.py: 関数()"]
          }
        ],
        "dependencies": []
      },
      "expected_behavior": "正常に処理"
    },
    {
      "name": "Negative values",
      "description": "負の値（無効な入力）",
      "input": {
        "modules": [
          {
            "name": "negative",
            "loc": -1000,
            "change_freq": -50,
            "dep_in": -5,
            "dep_out": -3,
            "top_terms": ["negative"],
            "evidence_fragments": ["negative.py: func()"]
          }
        ],
        "dependencies": []
      },
      "expected_behavior": "エラーE1002または値の正規化"
    },
    {
      "name": "Extremely high dependencies",
      "description": "極端に多い依存関係",
      "input": {
        "modules": [
          {
            "name": "hub",
            "loc": 5000,
            "change_freq": 200,
            "dep_in": 500,
            "dep_out": 2,
            "top_terms": ["hub", "central", "core"],
            "evidence_fragments": ["hub.py: central_processor()"]
          }
        ],
        "dependencies": []
      },
      "expected_scores": {
        "S": 5,
        "Δ": "varies",
        "X": 1
      }
    }
  ]
}